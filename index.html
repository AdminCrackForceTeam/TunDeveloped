<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>‚ö° PRO SOFTWARE SYSTEM ‚ö°</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body{margin:0;background:#000;color:#0ff;font-family:Arial}
.hidden{display:none}
h2,h3{color:#0ff}
input,select{width:100%;padding:10px;margin:5px 0;background:#000;color:#0ff;border:1px solid #0ff}
button{padding:10px 15px;margin:5px;border:none;cursor:pointer;background:#0ff;color:#000;font-weight:bold}
nav button{margin:5px}
.card{border:1px solid #0ff;padding:15px;margin:10px;border-radius:8px}
.popup{position:fixed;bottom:20px;right:20px;background:#111;padding:15px;border:1px solid #0ff;animation:float 2s infinite}
@keyframes float{0%{transform:translateY(0)}50%{transform:translateY(-5px)}100%{transform:translateY(0)}}
</style>
</head>

<body>

<h2 style="text-align:center">‚ö° PRO SOFTWARE SYSTEM ‚ö°</h2>

<!-- POPUP KHUY·∫æN M√ÉI -->
<div class="popup" id="promo">üéÅ Khuy·∫øn m√£i 20% cho user m·ªõi!</div>

<!-- LOGIN -->
<div id="auth" class="card">
<h3>LOGIN / REGISTER</h3>
<input id="user" placeholder="Username">
<input id="pass" type="password" placeholder="Password">
<button onclick="login()">LOGIN</button>
<button onclick="register()">REGISTER</button>
</div>

<!-- USER APP -->
<div id="userApp" class="hidden">
<nav>
<button onclick="show('shop')">SHOP</button>
<button onclick="show('wallet')">N·∫†P TI·ªÄN</button>
<button onclick="show('orders')">ƒê√É MUA</button>
<button onclick="logout()">LOGOUT</button>
</nav>

<div id="info" class="card"></div>

<div id="shop"></div>
<div id="wallet" class="hidden card"></div>
<div id="orders" class="hidden"></div>
</div>

<!-- ADMIN -->
<div id="adminApp" class="hidden card">
<h3>ADMIN PANEL</h3>

<h4>QR N·∫†P TI·ªÄN</h4>
<input id="qrInput" placeholder="Link ·∫£nh QR">
<button onclick="saveQR()">L∆ØU QR</button>

<h4>C·ªòNG / TR·ª™ TI·ªÄN USER</h4>
<select id="userSelect"></select>
<input id="moneyValue" type="number" placeholder="Nh·∫≠p s·ªë ti·ªÅn">
<button onclick="addMoney()">+ TI·ªÄN</button>
<button onclick="subMoney()">- TI·ªÄN</button>

<h4>DANH S√ÅCH USER</h4>
<div id="userList"></div>
</div>

<script>
const ADMIN={u:"thanhdat08",p:"dat1234"};
let users=JSON.parse(localStorage.users||"{}");
let products=JSON.parse(localStorage.products||"[]");
let qr=localStorage.qr||"";
let current=null;

if(products.length==0){
 products=[
  {name:"VPN MobileConfig",price:50000,link:"#"},
  {name:"FPS Booster",price:80000,link:"#"}
 ];
 localStorage.products=JSON.stringify(products);
}

function login(){
 let u=user.value.trim(),p=pass.value.trim();
 if(!u||!p) return alert("NH·∫¨P ƒê·∫¶Y ƒê·ª¶ TK/MK");
 if(u==ADMIN.u && p==ADMIN.p){
  auth.classList.add("hidden");
  adminApp.classList.remove("hidden");
  loadAdmin();
  return;
 }
 if(!users[u]||users[u].pass!==p) return alert("SAI TK/MK");
 current=u;
 auth.classList.add("hidden");
 userApp.classList.remove("hidden");
 loadUser();
}

function register(){
 let u=user.value.trim(),p=pass.value.trim();
 if(!u||!p) return alert("NH·∫¨P ƒê·∫¶Y ƒê·ª¶");
 if(users[u]) return alert("USER T·ªíN T·∫†I");
 users[u]={pass:p,balance:0,orders:[]};
 localStorage.users=JSON.stringify(users);
 alert("ƒêƒÇNG K√ù OK");
}

function logout(){location.reload()}

function show(id){
 shop.classList.add("hidden");
 wallet.classList.add("hidden");
 orders.classList.add("hidden");
 document.getElementById(id).classList.remove("hidden");
}

function loadUser(){
 info.innerHTML=`üë§ ${current}<br>üí∞ S·ªë d∆∞: ${users[current].balance} VNƒê`;
 loadShop();loadWallet();loadOrders();
}

function loadShop(){
 shop.innerHTML="";
 products.forEach((p,i)=>{
  shop.innerHTML+=`
  <div class="card">
  <b>${p.name}</b><br>
  Gi√°: ${p.price} VNƒê<br>
  <button onclick="buy(${i})">MUA</button>
  </div>`;
 });
}

function buy(i){
 let p=products[i];
 if(users[current].balance<p.price) return alert("KH√îNG ƒê·ª¶ TI·ªÄN");
 users[current].balance-=p.price;
 users[current].orders.push(p);
 localStorage.users=JSON.stringify(users);
 loadUser();
}

function loadWallet(){
 wallet.innerHTML=`
 <h3>N·∫†P TI·ªÄN</h3>
 <p>N·ªôi dung chuy·ªÉn kho·∫£n: <b>${current}</b></p>
 <img src="${qr}" width="200">
 `;
}

function loadOrders(){
 orders.innerHTML="";
 users[current].orders.forEach(o=>{
  orders.innerHTML+=`
  <div class="card">
  ${o.name}<br>
  <a href="${o.link}" download>DOWNLOAD</a>
  </div>`;
 });
}

function loadAdmin(){
 userSelect.innerHTML="";
 userList.innerHTML="";
 for(let u in users){
  userSelect.innerHTML+=`<option>${u}</option>`;
  userList.innerHTML+=`üë§ ${u} | üí∞ ${users[u].balance}<br>`;
 }
}

function addMoney(){
 let u=userSelect.value,v=+moneyValue.value;
 if(!v) return alert("NH·∫¨P TI·ªÄN");
 users[u].balance+=v;
 localStorage.users=JSON.stringify(users);
 loadAdmin();
}

function subMoney(){
 let u=userSelect.value,v=+moneyValue.value;
 if(!v) return alert("NH·∫¨P TI·ªÄN");
 users[u].balance-=v;
 localStorage.users=JSON.stringify(users);
 loadAdmin();
}

function saveQR(){
 localStorage.qr=qrInput.value;
 alert("ƒê√É L∆ØU QR");
}
</script>
</body>
</html>
